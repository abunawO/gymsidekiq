<div class="settings-layout">

  <Scrollable @classnames="settings-list">
    <div class="settings-action">
      <button {{action "goToCreateNewMember"}}>Create New Member</button>
    </div>

    {{#each profileMembersList as |member|}}
    <div class="settings-item" {{action 'selectMember' member}}>
      <div class="settings-item-left">
        <img src="{{member.image.url}}" alt={{member.fullName}}>
      </div>
      <div class="settings-item-right">
        <p class="sir-name">{{member.fullName}}</p>
        <p>${{member.monthlyPrice}} - {{member.membershipType}}</p>
        <p>{{member.contractExpiresOn}}</p>
      </div>
    </div>
    {{/each}}
  </Scrollable>

  <div class='settings-info'>
    <h2>Member Settings</h2>
    <div class="settings-content" id="members-form">
      <form>
        <fieldset>
          <label for="member-picture">Member Photo</label>
          <ul style="list-style-type: none;">
            {{#each filesArray as |file|}}
            {{image-preview file=file}}
            {{/each}}
          </ul>
          {{input-file id="member-picture" files=files callbackAction='setImage'}}
        </fieldset>
        <InputText @label="First Name" @value={{selectedMember.firstName}} />
        <InputText @label="Last Name" @value={{selectedMember.lastName}} />
        <InputText @label="Email" @value={{selectedMember.email}} />
        <InputText @label="Address" @value={{selectedMember.address}} />
        <InputText @label="City" @value={{selectedMember.city}} />
        <InputText @label="State" @value={{selectedMember.state}} />
        <InputText @label="Zip" @value={{selectedMember.zip}} />
        <InputText @label="Phone" @value={{selectedMember.phone}} />
        <fieldset>
          <h4>Current Membership Type</h4>
          {{#each plansWithoutMembersPlan as |plan|}}
          {{#unless plan}}
          <label>
            <span style="font-weight: normal;">No selected plan</span>
          </label>
          {{else}}
          <label>
            {{gs-radio name=plan.id class="profile_section" value=plan.id  data=plan callbackAction='setPlanId' checked=true}}
            <span style="font-weight: normal;">{{plan.title}}</span>
          </label>
          {{/unless}}
          {{/each}}
        </fieldset>
        <fieldset>
          <h4>Available Plans</h4>
          {{#each currentProfilePlans as |plan|}}
          <label>
            {{gs-radio name=plan.id class="profile_section" value=plan.id  data=plan callbackAction='setPlanId'}}
            <span style="font-weight: normal;">{{plan.title}}</span>
          </label>
          {{/each}}

        </fieldset>
        <button {{action "updateMember" selectedMember}} type="submit">
          Submit
        </button>
        <br>
        <button {{action "deleteMember" selectedMember}} style="color: red;" type="submit">
          Delete
        </button>
      </form>
    </div>
  </div>
</div>